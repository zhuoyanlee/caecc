class VamtamNavMenu extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{toggle:".elementor-menu-toggle",dropdownMenu:".elementor-nav-menu__container.elementor-nav-menu--dropdown"}}}getDefaultElements(){const selectors=this.getSettings("selectors");return{$toggle:this.$element.find(selectors.toggle),$dropdownMenu:this.$element.find(selectors.dropdownMenu)}}onInit(...args){super.onInit(...args),VAMTAM_FRONT.theme_supports("nav-menu--toggle-diff-icon-dimensions")&&this.toggleDimensionsDiscrepancyFix(),VAMTAM_FRONT.theme_supports("nav-menu--disable-scroll-on-mobile")&&this.handleMobileDisableScroll(),this.submenuIconFix(),this.customToggleIconActiveClass(),this.megaMenuToggleFix()}megaMenuToggleFix(){document.addEventListener("click",(function(event){(event.target.classList.contains("mega-menu")||event.target.closest(".mega-menu"))&&jQuery(".vamtam-header-mega-menu:visible").length&&event.stopImmediatePropagation()}),!0)}submenuIconFix(){const elementSettings=this.getElementSettings(),iconValue=elementSettings.submenu_icon.value;iconValue&&'<i class=""></i>'!==iconValue&&this.$element.addClass("vamtam-has-submenu-icon")}customToggleIconActiveClass(){const elementSettings=this.getElementSettings(),hasCustomActiveToggleIcon=elementSettings.toggle_icon_active&&elementSettings.toggle_icon_active.value,activeClass="vamtam-has-custom-active-toggle-icon";hasCustomActiveToggleIcon?this.$element.addClass(activeClass):this.$element.removeClass(activeClass)}toggleDimensionsDiscrepancyFix(){this.elements.$toggle.on("click",this.stretchMenu.bind(this)),this.initStretchElement()}initStretchElement(){this.stretchElement=new elementorModules.frontend.tools.StretchElement({element:this.elements.$dropdownMenu})}stretchMenu(){const _this=this,ms=jQuery("html").hasClass("ios-safari")?100:50;setTimeout(()=>{_this.elements.$toggle.hasClass("elementor-active")&&(_this.getElementSettings("full_width")?_this.stretchElement.stretch():_this.stretchElement.reset())},ms)}handleMobileDisableScroll(){const $el=this.$element,_this=this;let lockedScroll=!1,prevIsBelowMax=window.VAMTAM.isBelowMaxDeviceWidth();const disableScroll=function(implicit=!1){jQuery("html, body").addClass("vamtam-disable-scroll"),implicit||(lockedScroll=!0)},enableScroll=function(implicit=!1){jQuery("html, body").removeClass("vamtam-disable-scroll"),implicit||(lockedScroll=!1)},toggleHandler=function(e){setTimeout(()=>{e.target.closest(".vamtam-has-mobile-disable-scroll")&&(_this.elements.$toggle.hasClass("elementor-active")?disableScroll():enableScroll())},50)};var resizeHandler=function(){var isBelowMax=window.VAMTAM.isBelowMaxDeviceWidth();prevIsBelowMax!==isBelowMax&&lockedScroll&&(isBelowMax?disableScroll(!0):enableScroll(!0),prevIsBelowMax=isBelowMax)};const bfcacheHandler=function(e){setTimeout(()=>{e.persisted&&(enableScroll(),jQuery("body").click())},0)};$el.hasClass("vamtam-has-mobile-disable-scroll")&&(this.elements.$toggle.on("click",toggleHandler),window.addEventListener("pageshow",bfcacheHandler),window.addEventListener("resize",window.VAMTAM.debounce(resizeHandler,200),!1))}}jQuery(window).on("elementor/frontend/init",()=>{if(elementorFrontend.elementsHandler&&elementorFrontend.elementsHandler.attachHandler)elementorFrontend.elementsHandler.attachHandler("nav-menu",VamtamNavMenu);else{const addHandler=$element=>{elementorFrontend.elementsHandler.addHandler(VamtamNavMenu,{$element:$element})};elementorFrontend.hooks.addAction("frontend/element_ready/nav-menu.default",addHandler,100)}});